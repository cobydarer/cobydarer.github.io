<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Coby Darer">

<title>Coby Darer - Analyzing NHL Data from 2007-2008 to 2018-2019</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Coby Darer</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../project.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
    <a href="https://www.mountainproject.com/area/112001458/the-dump" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-trash"></i></a>
    <a href="https://github.com/cobydarer" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#loading-the-necessary-packages" id="toc-loading-the-necessary-packages" class="nav-link active" data-scroll-target="#loading-the-necessary-packages">Loading the Necessary Packages</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#exploring-some-data-teams" id="toc-exploring-some-data-teams" class="nav-link" data-scroll-target="#exploring-some-data-teams">Exploring some data <code>teams</code></a></li>
  <li><a href="#exploring-some-data-on-skaters" id="toc-exploring-some-data-on-skaters" class="nav-link" data-scroll-target="#exploring-some-data-on-skaters">Exploring some data on <code>skaters</code></a></li>
  <li><a href="#exploring-some-data-on-goalies" id="toc-exploring-some-data-on-goalies" class="nav-link" data-scroll-target="#exploring-some-data-on-goalies">Exploring some data on <code>goalies</code></a></li>
  <li><a href="#looking-at-penalties" id="toc-looking-at-penalties" class="nav-link" data-scroll-target="#looking-at-penalties">Looking at penalties</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Analyzing NHL Data from 2007-2008 to 2018-2019</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Coby Darer </p>
  </div>
    <div class="quarto-title-meta-contents">
        <p class="affiliation">
            <a href="https://www.appstate.edu/">
            Appalachian State University
            </a>
          </p>
      </div>
    </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Abstract</div>
    <p>This project will explore 5 v 5 data on NHL teams and players from the 2007-2008 season to the 2018-2019 season.</p>
  </div>
</div>

</header>

<section id="loading-the-necessary-packages" class="level2">
<h2 class="anchored" data-anchor-id="loading-the-necessary-packages">Loading the Necessary Packages</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nhldata)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>This project will explore some of the 5v5 data on NHL teams from the 2007-2008 season to the 2018-2019 season. Specifically 5v5 scoring over these years. It will look at data on skaters, goalies and teams as a whole. The division alignment has changed within this time frame so the teams will be split up into their current divisions (This is for readability more than comparing separate divisions).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>West_conf <span class="ot">&lt;-</span> teams <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"ANA"</span>, <span class="st">"ARI"</span>, <span class="st">"CGY"</span>, <span class="st">"CHI"</span>, <span class="st">"COL"</span>, <span class="st">"DAL"</span>, <span class="st">"EDM"</span>, <span class="st">"LA"</span>, <span class="st">"MIN"</span>, <span class="st">"NSH"</span>, <span class="st">"SJ"</span>, <span class="st">"STL"</span>, <span class="st">"VAN"</span>, <span class="st">"ATL"</span>, <span class="st">"WPG"</span>, <span class="st">"VGK"</span>))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>East_conf <span class="ot">&lt;-</span> teams <span class="sc">%&gt;%</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BOS"</span>, <span class="st">"BUF"</span>, <span class="st">"CAR"</span>, <span class="st">"CBJ"</span>, <span class="st">"DET"</span>, <span class="st">"FLA"</span>, <span class="st">"MTL"</span>, <span class="st">"NJ"</span>, <span class="st">"NYI"</span>, <span class="st">"NYR"</span>, <span class="st">"OTT"</span>, <span class="st">"PHI"</span>, <span class="st">"PIT"</span>, <span class="st">"TB"</span>, <span class="st">"TOR"</span>, <span class="st">"WSH"</span>))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>Atlantic_div <span class="ot">&lt;-</span> East_conf <span class="sc">%&gt;%</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BOS"</span>, <span class="st">"BUF"</span>, <span class="st">"DET"</span>, <span class="st">"FLA"</span>, <span class="st">"MTL"</span>, <span class="st">"OTT"</span>, <span class="st">"TB"</span>, <span class="st">"TOR"</span>))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>Metro_div <span class="ot">&lt;-</span> East_conf <span class="sc">%&gt;%</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"CAR"</span>, <span class="st">"CBJ"</span>, <span class="st">"NJ"</span>, <span class="st">"NYI"</span>, <span class="st">"NYR"</span>, <span class="st">"PHI"</span>, <span class="st">"PIT"</span>, <span class="st">"WSH"</span>))</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>Central_div <span class="ot">&lt;-</span> West_conf <span class="sc">%&gt;%</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"ARI"</span>, <span class="st">"CHI"</span>, <span class="st">"COL"</span>, <span class="st">"DAL"</span>, <span class="st">"MIN"</span>, <span class="st">"NSH"</span>, <span class="st">"STL"</span>, <span class="st">"ATL"</span>, <span class="st">"WPG"</span>))</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>Pacific_div <span class="ot">&lt;-</span> West_conf <span class="sc">%&gt;%</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(team <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"ANA"</span>, <span class="st">"CGY"</span>, <span class="st">"EDM"</span>, <span class="st">"LA"</span>, <span class="st">"SJ"</span>, <span class="st">"VAN"</span>, <span class="st">"VGK"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="exploring-some-data-teams" class="level2">
<h2 class="anchored" data-anchor-id="exploring-some-data-teams">Exploring some data <code>teams</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(teams)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 362
Columns: 28
$ team      &lt;chr&gt; "ANA", "ANA", "ANA", "ANA", "ANA", "ANA", "ANA", "ANA", "ANA…
$ season    &lt;chr&gt; "2007-2008", "2008-2009", "2009-2010", "2010-2011", "2011-20…
$ gp        &lt;dbl&gt; 81, 82, 82, 82, 82, 48, 82, 82, 82, 82, 82, 81, 81, 81, 82, …
$ toi       &lt;dbl&gt; 3396.38, 3645.19, 3746.91, 3852.90, 3890.68, 2319.80, 3822.9…
$ cf        &lt;dbl&gt; 2596, 3060, 3141, 3024, 3326, 1970, 3500, 3610, 3646, 3495, …
$ ca        &lt;dbl&gt; 2523, 2945, 3493, 3794, 3526, 2140, 3528, 3474, 3310, 3542, …
$ c_plumin  &lt;dbl&gt; 73, 115, -352, -770, -200, -170, -28, 136, 336, -47, -207, -…
$ cf_pct    &lt;dbl&gt; 50.71, 50.96, 47.35, 44.35, 48.54, 47.93, 49.80, 50.96, 52.4…
$ cf_60     &lt;dbl&gt; 45.86, 50.37, 50.30, 47.09, 51.29, 50.95, 54.93, 55.51, 56.3…
$ ca_60     &lt;dbl&gt; 44.57, 48.47, 55.93, 59.08, 54.38, 55.35, 55.37, 53.42, 51.1…
$ gf        &lt;dbl&gt; 107, 145, 146, 134, 138, 89, 187, 158, 128, 145, 158, 136, 1…
$ ga        &lt;dbl&gt; 95, 130, 144, 154, 154, 72, 133, 149, 131, 128, 135, 152, 13…
$ g_plumin  &lt;dbl&gt; 12, 15, 2, -20, -16, 17, 54, 9, -3, 17, 23, -16, -12, -32, 2…
$ gf_pct    &lt;dbl&gt; 52.97, 52.73, 50.34, 46.53, 47.26, 55.28, 58.44, 51.47, 49.4…
$ gf_60     &lt;dbl&gt; 1.89, 2.39, 2.34, 2.09, 2.13, 2.30, 2.93, 2.43, 1.98, 2.25, …
$ ga_60     &lt;dbl&gt; 1.68, 2.14, 2.31, 2.40, 2.37, 1.86, 2.09, 2.29, 2.02, 1.98, …
$ xgf       &lt;dbl&gt; 108.93, 134.91, 132.19, 123.01, 133.14, 81.87, 153.17, 149.0…
$ xga       &lt;dbl&gt; 114.61, 129.11, 156.27, 156.05, 149.34, 81.65, 144.53, 136.8…
$ xg_plumin &lt;dbl&gt; -5.68, 5.80, -24.08, -33.04, -16.20, 0.22, 8.64, 12.21, 16.5…
$ xgf_pct   &lt;dbl&gt; 48.73, 51.10, 45.83, 44.08, 47.13, 50.07, 51.45, 52.13, 53.0…
$ xgf_60    &lt;dbl&gt; 1.92, 2.22, 2.12, 1.92, 2.05, 2.12, 2.40, 2.29, 2.26, 2.37, …
$ xga_60    &lt;dbl&gt; 2.02, 2.13, 2.50, 2.43, 2.30, 2.11, 2.27, 2.10, 2.00, 2.19, …
$ pent      &lt;dbl&gt; 406, 407, 378, 336, 274, 162, 292, 263, 329, 304, 271, 242, …
$ pend      &lt;dbl&gt; 372, 337, 351, 309, 260, 137, 293, 251, 272, 275, 223, 204, …
$ p_plumin  &lt;dbl&gt; -34, -70, -27, -27, -14, -25, 1, -12, -57, -29, -48, -38, -5…
$ sh_pct    &lt;dbl&gt; 7.30, 8.40, 8.23, 7.87, 7.99, 8.59, 9.83, 8.48, 6.69, 7.77, …
$ sv_pct    &lt;dbl&gt; 93.62, 92.42, 92.75, 92.31, 91.66, 93.01, 92.62, 91.82, 92.3…
$ pdo       &lt;dbl&gt; 100.93, 100.82, 100.98, 100.18, 99.65, 101.60, 102.45, 100.3…</code></pre>
</div>
</div>
<p>There are 28 variables in the teams data set:</p>
<p>Note: Corsi stat in hockey is Shot attempts</p>
<ol type="1">
<li><p><code>team</code>: Team name</p></li>
<li><p><code>season</code>: Season</p></li>
<li><p><code>gp</code>: Games Played</p></li>
<li><p><code>toi</code> : Time on the ice</p></li>
<li><p><code>cf</code>: Corsi for</p></li>
<li><p><code>ca</code>: Corsi against</p></li>
<li><p><code>c_plumin</code> : Corsi plus/minus (cf-ca)</p></li>
<li><p><code>cf_60</code>: Corsi for per 60 minutes on the ice</p></li>
<li><p><code>cf_pct</code>: Corsi for as a percentage of total corsi</p></li>
<li><p><code>ca_60</code>: Corsi against per 60 minutes on the ice</p></li>
<li><p><code>gf</code> : Goals scored for a player’s team</p></li>
<li><p><code>ga</code>: Goals scored against player’s team</p></li>
<li><p><code>g_plumin</code>: Goals for - goals against</p></li>
<li><p><code>gf_pct</code>: Percentage of all goals scored by team</p></li>
<li><p><code>gf_60</code>: Goals for per 60 minutes on the ice</p></li>
<li><p><code>ga_60</code>: Goals against per 60 minutes on the ice</p></li>
<li><p><code>xgf</code>: Expected goals for</p></li>
<li><p><code>xga</code>: Expected goals against</p></li>
<li><p><code>xg_plumin</code>: Expected goals for - expected goals against</p></li>
<li><p><code>xgf_pct</code>: Expected goals for as a percentage of total expected goals for</p></li>
<li><p><code>xgf_60</code>: Expected goals for per 60 minutes on the ice</p></li>
<li><p><code>xga_60</code>: Expected goals against per 60 minutes on the ice</p></li>
<li><p><code>pent</code>: Penalties taken</p></li>
<li><p><code>pend</code>: Penalties drawn</p></li>
<li><p><code>p_plumin</code>: Penalties taken - individual penalties drawn</p></li>
<li><p><code>sh_pct</code>: Shooting percentage</p></li>
<li><p><code>sv_pct</code>: Save percentage</p></li>
<li><p><code>pdo</code>: Just Win Baby</p></li>
</ol>
<p>Since we are exploring 5v5, let’s see how important it is by looking at each teams goals for.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>Central_div <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> gf, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Goals For"</span>)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>Pacific_div <span class="sc">%&gt;%</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> gf, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Goals For"</span>)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>Atlantic_div <span class="sc">%&gt;%</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> gf, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Goals For"</span>)</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>Metro_div <span class="sc">%&gt;%</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> gf, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Goals For"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-1-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-1-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Number of 5v5 goals for each team each season</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-1-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-1-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;2: Number of 5v5 goals for each team each season</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-1-3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-1-3.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;3: Number of 5v5 goals for each team each season</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-1-4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-1-4.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;4: Number of 5v5 goals for each team each season</figcaption>
</figure>
</div>
</div>
</div>
<p>Now let’s look at shot attempts over the years.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>Central_div <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> cf<span class="sc">/</span>gp, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Shot Attempts"</span>)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>Pacific_div <span class="sc">%&gt;%</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> cf<span class="sc">/</span>gp, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Shot Attempts"</span>)</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>Atlantic_div <span class="sc">%&gt;%</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> cf<span class="sc">/</span>gp, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Shot Attempts"</span>)</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>Metro_div <span class="sc">%&gt;%</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> cf<span class="sc">/</span>gp, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Shot Attempts"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-5-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-5-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;5: Number of 5v5 shot attempts for each team each season</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-5-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-5-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;6: Number of 5v5 shot attempts for each team each season</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-5-3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-5-3.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;7: Number of 5v5 shot attempts for each team each season</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-5-4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-5-4.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;8: Number of 5v5 shot attempts for each team each season</figcaption>
</figure>
</div>
</div>
</div>
<p>So it looks like there was some fluctuation, but on average teams are scoring slightly more on 5v5 now than they used to.</p>
</section>
<section id="exploring-some-data-on-skaters" class="level2">
<h2 class="anchored" data-anchor-id="exploring-some-data-on-skaters">Exploring some data on <code>skaters</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(skaters)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 9,402
Columns: 48
$ player      &lt;chr&gt; "SEBASTIAN AHO", "AARON DOWNEY", "AARON EKBLAD", "AARON EK…
$ season      &lt;chr&gt; "2017-2018", "2007-2008", "2014-2015", "2015-2016", "2016-…
$ team        &lt;chr&gt; "NYI", "DET", "FLA", "FLA", "FLA", "FLA", "FLA", "DAL", "W…
$ team2       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "EDM", NA,…
$ team3       &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ position    &lt;chr&gt; "D", "R", "D", "D", "D", "D", "D", "C", "C", "C", "D", "D"…
$ position2   &lt;chr&gt; "D", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ position3   &lt;chr&gt; "R", NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ gp          &lt;dbl&gt; 22, 56, 81, 78, 68, 82, 82, 19, 7, 10, 30, 38, 41, 56, 10,…
$ toi         &lt;dbl&gt; 324.64, 253.35, 1400.56, 1319.22, 1132.67, 1440.06, 1498.7…
$ g           &lt;dbl&gt; 0, 0, 6, 9, 4, 9, 7, 0, 0, 3, 0, 2, 2, 2, 0, 0, 1, 0, 1, 0…
$ a           &lt;dbl&gt; 3, 2, 16, 13, 7, 11, 12, 2, 0, 0, 1, 4, 4, 12, 0, 0, 6, 0,…
$ p           &lt;dbl&gt; 3, 2, 22, 22, 11, 20, 19, 2, 0, 3, 1, 6, 6, 14, 0, 0, 7, 0…
$ p1          &lt;dbl&gt; 1, 2, 14, 15, 7, 11, 13, 0, 0, 3, 0, 3, 5, 7, 0, 0, 2, 0, …
$ p_60        &lt;dbl&gt; 0.55, 0.47, 0.94, 1.00, 0.58, 0.83, 0.76, 0.84, 0.00, 2.46…
$ p1_60       &lt;dbl&gt; 0.18, 0.47, 0.60, 0.68, 0.37, 0.46, 0.52, 0.00, 0.00, 2.46…
$ gs          &lt;dbl&gt; 1.99, 0.92, 38.10, 28.15, 21.36, 19.78, 23.60, 1.64, 1.17,…
$ gs_60       &lt;dbl&gt; 0.37, 0.22, 1.63, 1.28, 1.13, 0.82, 0.94, 0.69, 1.07, 2.83…
$ cf          &lt;dbl&gt; 289, 193, 1299, 1059, 1084, 1392, 1402, 127, 72, 64, 287, …
$ ca          &lt;dbl&gt; 325, 183, 1112, 1034, 1003, 1520, 1432, 121, 58, 63, 304, …
$ c_plumin    &lt;dbl&gt; -36, 10, 187, 25, 81, -128, -30, 6, 14, 1, -17, 28, -83, -…
$ cf_pct      &lt;dbl&gt; 47.07, 51.33, 53.88, 50.60, 51.94, 47.80, 49.47, 51.21, 55…
$ rel_cf_pct  &lt;dbl&gt; 2.26, -7.30, 3.83, 2.92, 1.97, -2.16, 0.09, 3.14, 8.63, 0.…
$ gf          &lt;dbl&gt; 15, 6, 59, 56, 30, 69, 80, 3, 0, 5, 15, 23, 18, 29, 4, 1, …
$ ga          &lt;dbl&gt; 19, 6, 43, 43, 47, 67, 82, 6, 1, 4, 11, 10, 25, 37, 4, 0, …
$ g_plumin    &lt;dbl&gt; -4, 0, 16, 13, -17, 2, -2, -3, -1, 1, 4, 13, -7, -8, 0, 1,…
$ gf_pct      &lt;dbl&gt; 44.12, 50.00, 57.84, 56.57, 38.96, 50.74, 49.38, 33.33, 0.…
$ rel_gf_pct  &lt;dbl&gt; -0.48, -12.50, 11.78, -3.07, -7.58, 1.50, 5.93, -11.98, -4…
$ xgf         &lt;dbl&gt; 10.49, 7.16, 50.88, 42.44, 38.23, 57.36, 63.91, 5.83, 2.89…
$ xga         &lt;dbl&gt; 15.73, 7.76, 42.32, 44.38, 42.23, 65.83, 69.28, 4.84, 2.15…
$ xg_plumin   &lt;dbl&gt; -5.24, -0.60, 8.56, -1.94, -4.00, -8.47, -5.37, 0.99, 0.74…
$ xgf_pct     &lt;dbl&gt; 40.01, 47.99, 54.59, 48.88, 47.51, 46.56, 47.98, 54.64, 57…
$ rel_xgf_pct &lt;dbl&gt; -3.96, -10.26, 4.30, -0.22, -0.17, -3.54, -0.04, 7.76, 13.…
$ ipent       &lt;dbl&gt; 2, 31, 10, 15, 21, 20, 12, 1, 0, 1, 13, 11, 11, 5, 4, 0, 8…
$ ipend       &lt;dbl&gt; 4, 15, 10, 6, 13, 9, 9, 0, 0, 1, 4, 5, 5, 7, 1, 1, 4, 0, 2…
$ ip_plumin   &lt;dbl&gt; 2, -16, 0, -9, -8, -11, -3, -1, 0, 0, -9, -6, -6, 2, -3, 1…
$ icf         &lt;dbl&gt; 50, 22, 229, 208, 248, 271, 227, 25, 12, 17, 33, 53, 70, 9…
$ icf_60      &lt;dbl&gt; 9.24, 5.21, 9.81, 9.46, 13.14, 11.29, 9.09, 10.55, 11.02, …
$ ixgf        &lt;dbl&gt; 0.77, 0.94, 3.98, 5.41, 5.59, 6.83, 5.35, 0.84, 0.54, 1.17…
$ ixgf_60     &lt;dbl&gt; 0.14, 0.22, 0.17, 0.25, 0.30, 0.28, 0.21, 0.35, 0.50, 0.96…
$ ish_pct     &lt;dbl&gt; 0.00, 0.00, 5.26, 7.50, 2.74, 6.98, 5.56, 0.00, 0.00, 27.2…
$ pdo         &lt;dbl&gt; 99.82, 99.80, 100.86, 101.59, 96.77, 100.94, 99.22, 97.67,…
$ zsr         &lt;dbl&gt; 43.37, 81.97, 60.73, 55.80, 58.93, 41.48, 45.76, 48.05, 58…
$ toi_pct     &lt;dbl&gt; 30.30, 10.37, 36.09, 35.98, 35.20, 36.61, 37.72, 16.25, 18…
$ toi_pct_qot &lt;dbl&gt; 27.25, 26.06, 28.14, 28.15, 27.69, 29.52, 29.32, 26.44, 29…
$ cf_pct_qot  &lt;dbl&gt; 47.37, 57.52, 49.53, 48.73, 50.29, 51.68, 49.32, 44.92, 50…
$ toi_pct_qoc &lt;dbl&gt; 28.78, 27.06, 28.56, 28.77, 28.91, 29.52, 29.89, 28.06, 28…
$ cf_pct_qoc  &lt;dbl&gt; 50.10, 48.87, 49.31, 49.94, 50.02, 50.12, 50.19, 50.72, 48…</code></pre>
</div>
</div>
<p>There are 48 variables in the skaters data set:</p>
<p>Note: Corsi stat in hockey is Shot attempts</p>
<ol type="1">
<li><p><code>player</code>: Player name</p></li>
<li><p><code>season</code>: Season</p></li>
<li><p><code>team</code>: First team player played for in a given season</p></li>
<li><p><code>team2</code> : Second team player played for in a given season</p></li>
<li><p><code>team3</code>: Third team player played for in a given season</p></li>
<li><p><code>position</code>: Player’s first position</p></li>
<li><p><code>position2</code> : Player’s second position</p></li>
<li><p><code>position3</code>: Player’s third position</p></li>
<li><p><code>gp</code>: Games Played</p></li>
<li><p><code>toi</code>: Time on the ice</p></li>
<li><p><code>g</code> : Goals scored</p></li>
<li><p><code>a</code>: Assists</p></li>
<li><p><code>p</code>: Points</p></li>
<li><p><code>p1</code>: Primary points (goals + primary assists)</p></li>
<li><p><code>p_60</code>: Points per 60 minutes on the ice</p></li>
<li><p><code>p1_60</code>: Primary points per 60 minutes on the ice</p></li>
<li><p><code>gs</code>: Game score</p></li>
<li><p><code>gs_60</code>: Game score per 60 minutes on the ice</p></li>
<li><p><code>cf</code>: Corsi for (shot attempts by player’s team while player is on the ice)</p></li>
<li><p><code>ca</code>: Corsi against (shot attempts by opposing team will player is on the ice)</p></li>
<li><p><code>c_plumin</code>: Corsi plus/minus (cf-ca)</p></li>
<li><p><code>cf_pct</code>: Corsi percentage</p></li>
<li><p><code>rel_cf_pct</code>: Relative corsi percentage</p></li>
<li><p><code>gf</code>: Goals scored for a player’s team</p></li>
<li><p><code>ga</code>: Goals scored against player’s team</p></li>
<li><p><code>g_plumin</code>: Shooting Goals for - goals against</p></li>
<li><p><code>gf_pct</code>: Save Percentage of all goals scored by player’s team</p></li>
<li><p><code>rel_gf_pct</code>: Relative goals for percentage</p></li>
<li><p><code>xgf</code>: Expected goals for</p></li>
<li><p><code>xga</code>: Expected goals against</p></li>
<li><p><code>xg_plumin</code>: Expected goals for - expected goals against</p></li>
<li><p><code>xgf_pct</code>: Expected goals for as a percentage of a team’s total expected goals for</p></li>
<li><p><code>rel_xgf_pct</code>: Relative expected goals for as a percentage of a team’s total expected goals for</p></li>
<li><p><code>ipent</code>: Individual penalties taken</p></li>
<li><p><code>ipend</code>: Individual penalties drawn</p></li>
<li><p><code>ip_plumin</code>: Individual penalties taken - individual penalties drawn</p></li>
<li><p><code>icf</code>: Individual corsi for</p></li>
<li><p><code>icf_60</code>: Individual corsi for per 60 minutes on the ice</p></li>
<li><p><code>ixgf</code>: Individual expected goals for</p></li>
<li><p><code>ixgf_60</code>: Individual expected goals for per 60 minutes on the ice</p></li>
<li><p><code>ish_pct</code>: Individual shooting percentage</p></li>
<li><p><code>pdo</code>: Just Win Baby</p></li>
<li><p><code>zsr</code>: Zone start ratio</p></li>
<li><p><code>toi_pct</code>: Percentage of team’s total time on ice played by player</p></li>
<li><p><code>toi_pct_qot</code>: Percentage of team’s total time on ice played by player, weighted by quality of teammates</p></li>
<li><p><code>cf_pct_qot</code>: Corsi for percentage weighted by quality of player’s teammates</p></li>
<li><p><code>toi_pct_qoc</code>: Percentage of team’s total time on ice played by player, weighted by quality of opponents</p></li>
<li><p><code>cf_pct_qoc</code>: Corsi for percentage weighted by quality of player’s opponents</p></li>
</ol>
<p>It would be nice to see if the individual player stats reflect this slight increase in production.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>skaters <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(p <span class="sc">&gt;=</span> <span class="dv">50</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season)) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-9" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-9-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;9: Number of players with 50 or more 5v5 points</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>skaters <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ish_pct <span class="sc">&gt;=</span> <span class="dv">20</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season)) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-10" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-10-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;10: Number of players with at least 20% shooting percentage</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>skaters <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ish_pct <span class="sc">&gt;=</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season)) <span class="sc">+</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>) <span class="sc">+</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-11" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-11-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;11: Number of players with at least 10% shooting percentage</figcaption>
</figure>
</div>
</div>
</div>
<p>Interesting, the amount of players with at least 50 points seems to be trending up in the last couple of years but is not more than some of the years in the past. Also shooting percentage has stayed relatively consistent, but at 20% there were some spikes.</p>
</section>
<section id="exploring-some-data-on-goalies" class="level2">
<h2 class="anchored" data-anchor-id="exploring-some-data-on-goalies">Exploring some data on <code>goalies</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(goalies)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 856
Columns: 16
$ player   &lt;chr&gt; "AARON DELL", "AARON DELL", "AARON DELL", "ADIN HILL", "ADIN …
$ season   &lt;chr&gt; "2016-2017", "2017-2018", "2018-2019", "2017-2018", "2018-201…
$ team     &lt;chr&gt; "SJ", "SJ", "SJ", "ARI", "ARI", "NYR", "NYR", "ARI", "OTT", "…
$ team2    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, "BOS", NA, "NYR", NA, NA, NA, NA,…
$ team3    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ gp       &lt;dbl&gt; 20, 29, 25, 4, 13, 10, 33, 32, 43, 24, 16, 14, 11, 24, 22, 13…
$ toi      &lt;dbl&gt; 951.31, 1235.49, 1057.78, 205.05, 545.18, 430.98, 1486.20, 12…
$ sa       &lt;dbl&gt; 449, 606, 473, 113, 255, 274, 822, 534, 823, 472, 278, 215, 1…
$ ga       &lt;dbl&gt; 23, 49, 45, 12, 25, 19, 69, 41, 64, 46, 24, 20, 18, 31, 41, 2…
$ sv_pct   &lt;dbl&gt; 94.88, 91.91, 90.49, 89.38, 90.20, 93.07, 91.61, 92.32, 92.22…
$ xsv_pct  &lt;dbl&gt; 92.44, 91.74, 91.24, 90.27, 91.73, 91.86, 91.76, 92.30, 92.14…
$ dsv_pct  &lt;dbl&gt; 2.43, 0.17, -0.75, -0.88, -1.54, 1.21, -0.15, 0.02, 0.08, -2.…
$ ldsv_pct &lt;dbl&gt; 98.64, 97.60, 98.03, 91.67, 95.76, 99.24, 98.06, 97.22, 98.67…
$ mdsv_pct &lt;dbl&gt; 96.03, 92.97, 89.02, 93.75, 94.94, 89.77, 91.17, 92.24, 90.23…
$ hdsv_pct &lt;dbl&gt; 82.05, 77.52, 78.30, 81.82, 72.41, 83.64, 79.33, 80.23, 83.06…
$ gsaa     &lt;dbl&gt; 10.93, 1.05, -3.57, -1.00, -3.92, 3.31, -1.23, 0.12, 0.65, -1…</code></pre>
</div>
</div>
<p>There are 16 variables in the teams data set:</p>
<ol type="1">
<li><p><code>player</code>: Player name</p></li>
<li><p><code>season</code>: Season</p></li>
<li><p><code>team</code>: First team player played for in a given season</p></li>
<li><p><code>team2</code> : Second team player played for in a given season</p></li>
<li><p><code>team3</code>: Third team player played for in a given season</p></li>
<li><p><code>gp</code>: Games Played</p></li>
<li><p><code>toi</code> : Time on the ice</p></li>
<li><p><code>sa</code>: Shots against</p></li>
<li><p><code>ga</code>: Goals against</p></li>
<li><p><code>sv_pct</code>: Save percentage</p></li>
<li><p><code>xsv_pct</code> : Expected save percentage</p></li>
<li><p><code>dsv_pct</code>: Dangerous save percentage</p></li>
<li><p><code>ldsv_pct</code>: Low danger save percentage</p></li>
<li><p><code>mdsv_pc</code>: Medium danger save percentage</p></li>
<li><p><code>hdsv_pct</code>: High danger save percentage</p></li>
<li><p><code>gsaa</code>: Goals saved above average</p></li>
</ol>
<p>How have the goalies been affected over the years?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>goalies <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sv_pct <span class="sc">&gt;=</span> <span class="fl">91.00</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp <span class="sc">&gt;=</span> <span class="dv">45</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season)) <span class="sc">+</span> </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"pink"</span>) <span class="sc">+</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-12" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-12-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;12: Number of goalies with at least 45 games played and a 91% save percentage</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>goalies <span class="ot">&lt;-</span> goalies <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">avg_sa_gp =</span> sa<span class="sc">/</span>gp)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>filtered_goalies <span class="ot">&lt;-</span> goalies <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gp <span class="sc">&gt;</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(avg_sa_gp <span class="sc">&gt;=</span> <span class="dv">20</span>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(filtered_goalies, <span class="fu">aes</span>(<span class="at">x =</span> season)) <span class="sc">+</span> </span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="st">"pink"</span>) <span class="sc">+</span> </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Count"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-13" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-13-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;13: Number of who goalies faced an average of at least 20 shots a game</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="looking-at-penalties" class="level2">
<h2 class="anchored" data-anchor-id="looking-at-penalties">Looking at penalties</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>Central_div <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> pent, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Penalties Taken"</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>Pacific_div <span class="sc">%&gt;%</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> pent, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Penalties Taken"</span>)</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>Atlantic_div <span class="sc">%&gt;%</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> pent, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Penalties Taken"</span>)</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>Metro_div <span class="sc">%&gt;%</span></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> pent, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Penalties Taken"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-14-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-14-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;14: Number of penalties taken by each team</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-14-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-14-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;15: Number of penalties taken by each team</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-14-3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-14-3.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;16: Number of penalties taken by each team</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-14-4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-14-4.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;17: Number of penalties taken by each team</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>Central_div <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> p_plumin, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Penalty +-"</span>)</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>Pacific_div <span class="sc">%&gt;%</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> p_plumin, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Penalty +-"</span>)</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>Atlantic_div <span class="sc">%&gt;%</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> p_plumin, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Penalty +-"</span>)</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>Metro_div <span class="sc">%&gt;%</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(season <span class="sc">!=</span> <span class="st">"2012-2013"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season, <span class="at">y =</span> p_plumin, <span class="at">color =</span> team)) <span class="sc">+</span> </span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> team)) <span class="sc">+</span></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="dv">1</span>), <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span> </span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Season"</span>,</span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Penalty +-"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-18-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-18-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;18: Net penalties by each team</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-18-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-18-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;19: Net penalties by each team</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-18-3" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-18-3.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;20: Net penalties by each team</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-18-4" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="NHL-Data_files/figure-html/fig-18-4.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;21: Net penalties by each team</figcaption>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>