{
  "hash": "3b8140f9b591e18f79261b587beb3da2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"College Football Rankings\"\nformat: \n  html:\n    theme: cosmo  # zephyr pulse, sketchy, default, cosmo, vapor etc\nauthor:\n  - name: Coby Darer\n    email: cobydarer@gmail.com\n    affiliation:\n      - name: Appalachian State University\n        city: Boone\n        state: NC  \n        url: https://www.appstate.edu/\ncode-fold: true\n---\n\n## Loading the Necessary Packages and Data\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"false\"}\nlibrary(ggplot2)\nlibrary(readxl)\nlibrary(dplyr)\nlibrary(knitr)\ncollege_games <- read_excel(\"College_Football_2025_Season_Games.xlsx\")\n```\n:::\n\n\n## Introduction\n\nThis project will create a ranking system for college football and rank teams for the 2025 season, using data through week ten. It will also predict the winner of some week eleven games and compare it to the actual outcome.\n\n## Ranking System\n\nFor my ranking system I created variables that I thought are important and assigned a point value to each one. Then ranked the teams based on who had the most points.\n\nIf you win the game:\n\n* Win: 1 point\n\n* MOV: MOV / 30 * 0.4, 0.4 points max\n\n* Opponent’s current record: opponent win% * 0.6, 0.6 points max\n\n* Opponent’s rank: (26 - opponent rank) / 25 * 0.85, 0.85 points max\n\nIf you lose\n\n* Team that beats you rank: (26 - winner rank) / 25 * 1.2, 1.2 points max\n\n## Margin of Victory and Recent Games\n\nI considered margin of victory in my rankings system because I think being able to beat a team by a lot of points shows you are a better team than if majority of the games played are close. I used margin of victory to increase the amount of points a team gets for winning a game, capping margin of victory at 30. Winning by 30 and by 50 is the same for example. Also I did not consider margin of victory for FCS games.\n\nI did not consider recent games as more important than early season games in my ranking system.\n\n## Rankings vs AP top 25 (Week 11)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Find each teams overall record\nhome_record <- college_games %>%\n  group_by(Home_Team) %>%\n  mutate(wins = ifelse(Home_Team_Win == 1, 1, 0),\n         losses = ifelse(Home_Team_Win == 1, 0, 1)) %>%\n  summarize(wins = sum(wins),\n            losses = sum(losses)) %>%\n  rename(Team = Home_Team)\n\naway_record <- college_games %>%\n  group_by(Away_Team) %>%\n  mutate(wins = ifelse(Home_Team_Win == 1, 0, 1),\n         losses = ifelse(Home_Team_Win == 1, 1, 0)) %>%\n  summarize(wins = sum(wins),\n            losses = sum(losses)) %>%\n  rename(Team = Away_Team)\n\nteam_record <- bind_rows(home_record, away_record) %>%\n  group_by(Team) %>%\n  summarize(Wins = sum(wins),\n            Losses = sum(losses),\n            win_pct = Wins / (Wins + Losses))\n\n\n# Create variables for winner, loser, and the losing team win percentage\ncollege_games <- college_games %>%\n  mutate(winner = ifelse(Home_Team_Win == 1, Home_Team, Away_Team),\n         loser = ifelse(Home_Team_Win == 1, Away_Team, Home_Team)) %>%\n  left_join(team_record %>% select(Team, win_pct), by = c(\"loser\" = \"Team\")) %>%\n  rename(opp_win_pct = win_pct)\n  \n# create and use the variables for a win, MOV, the losing teams current record, and the losing teams rank (the points a team gets for winning)\nwin_points <- college_games %>%\n  mutate(MOV = ifelse(Away_Team_Conference != \"FCS\", \n                ifelse(Home_Team_Margin_of_Victory <= 30, abs(Home_Team_Margin_of_Victory), 30), 0),\n         win_points = 1 + ((MOV / 30) * 0.4),\n         opponent_rank = as.numeric(ifelse(Home_Team_Win == 1, Away_Team_Rank, Home_Team_Rank)),\n         opp_record_points = round(opp_win_pct * 0.6, 2),\n         rank_points = ifelse(!is.na(opponent_rank), (26 - opponent_rank) / 25 * 0.85, 0),\n         total_win_points = win_points + rank_points + opp_record_points) %>%\n  group_by(winner) %>%\n  summarize(overall_win_points = sum(total_win_points)) %>%\n  arrange(desc(overall_win_points)) %>%\n  mutate(Team = winner)\n  \n# Give points if a team lost to a ranked team\nloss_points <- college_games %>%\n  mutate(winner_rank = as.numeric(ifelse(Home_Team_Win == 1, Home_Team_Rank, Away_Team_Rank)),\n         rank_loss_points = ifelse(!is.na(winner_rank), (26 - winner_rank) / 25 * 1.2, 0)) %>%\n  group_by(loser) %>%\n  summarize(overall_loss_points = sum(rank_loss_points)) %>%\n  arrange(desc(overall_loss_points)) %>%\n  mutate(Team = loser)\n\n# combine and sort the overall points each team got\nrankings <- left_join(win_points, loss_points, by = \"Team\") %>%\n  mutate(overall_loss_points = ifelse(is.na(overall_loss_points), 0, overall_loss_points),\n         overall_points = overall_win_points + overall_loss_points) %>%\n  arrange(desc(overall_points)) %>%\n  mutate(Rank = row_number()) %>%\n  select(Rank, Team, overall_points)\n  \nrankings %>%\n  head(n=25) %>%\n  kable()\n```\n\n::: {.cell-output-display}\n\n\n| Rank|Team          | overall_points|\n|----:|:-------------|--------------:|\n|    1|Indiana       |       15.80667|\n|    2|Ohio State    |       13.74600|\n|    3|Ole Miss      |       13.59600|\n|    4|Texas         |       12.79867|\n|    5|Texas Tech    |       12.78000|\n|    6|Texas A&M     |       12.70267|\n|    7|Alabama       |       12.69533|\n|    8|Utah          |       12.62267|\n|    9|Vanderbilt    |       12.57733|\n|   10|Oklahoma      |       12.16533|\n|   11|Virginia      |       11.94733|\n|   12|Oregon        |       11.86067|\n|   13|Georgia       |       11.85333|\n|   14|Memphis       |       11.76533|\n|   15|North Texas   |       11.70600|\n|   16|Georgia Tech  |       11.46600|\n|   17|BYU           |       11.39533|\n|   18|Notre Dame    |       10.88200|\n|   19|Louisville    |       10.79533|\n|   20|Michigan      |       10.73733|\n|   21|Illinois      |       10.54600|\n|   22|Tennessee     |       10.48400|\n|   23|South Florida |       10.44400|\n|   24|USC           |       10.43533|\n|   25|Houston       |       10.27800|\n\n\n:::\n\n```{.r .cell-code}\ninclude_graphics(\"top_rank.jpeg\")\n```\n\n::: {.cell-output-display}\n![](top_rank.jpeg)\n:::\n:::\n\n\n## Notable Results\n\n* Underrated: North Texas  ranked 30 jumped to 15 in my rankings\n\n* Overrated: Miami  ranked 18 dropped to 28 in my rankings\n\nWhen comparing my rankings to the AP poll, Oregon, Georgia, BYU, and Notre Dame dropped a noticeable amount of spots but all stayed in the top 25\n\n## Predict Week 11 games\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(kableExtra)\n\nhome_team <- c(\"Purdue\", \"Penn State\", \"Missouri\", \"Alabama\", \"Miss State\", \"Ole Miss\", \"Texas Tech\", \"Notre Dame\", \"Virginia\", \"Louisville\", \"Vanderbilt\", \"Miami\", \"USC\", \"Memphis\", \"Wisconsin\", \"Iowa\", \"South Florida\")\naway_team <- c(\"Ohio State\", \"Indiana\", \"Texas A&M\", \"LSU\", \"Georgia\", \"The Citadel\", \"BYU\", \"Navy\", \"Wake Forest\", \"California\", \"Auburn\", \"Syracuse\", \"Northwestern\", \"Tulane\", \"Washington\", \"Oregon\", \"UTSA\")\npredicted_winner <- c(\"Ohio State\", \"Indiana\", \"Texas A&M\", \"Alabama\", \"Georgia\", \"Ole Miss\", \"Texas Tech\", \"Notre Dame\", \"Virginia\", \"Louisville\", \"Vanderbilt\", \"Miami\", \"USC\", \"Memphis\", \"Washington\", \"Oregon\", \"South Florida\")\nactual_outcome <- c(\"Ohio State\", \"Indiana\", \"Texas A&M\", \"Alabama\", \"Georgia\", \"Ole Miss\", \"Texas Tech\", \"Notre Dame\", \"Wake Forest\", \"California\", \"Vanderbilt\", \"Miami\", \"USC\", \"Tulane\", \"Wisconsin\", \"Oregon\", \"South Florida\")\ndf <- data.frame(home_team, away_team, predicted_winner, actual_outcome)\n\ncolnames(df) <- c(\"Home Team\", \"Away Team\", \"Predicted Winner\", \"Actual Winner\")\n\ncolors <- c(\n  \"lightgreen\", \"lightgreen\", \"lightgreen\", \"lightgreen\",\n  \"lightgreen\", \"lightgreen\", \"lightgreen\", \"lightgreen\",\n  \"salmon\", \"salmon\", \"lightgreen\", \"lightgreen\",\n  \"lightgreen\", \"salmon\", \"salmon\", \"lightgreen\", \"lightgreen\"\n)\n\ndf %>%\n  kable() %>%\n  kable_paper(\"striped\") %>%\n  column_spec(4, background = colors)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-paper lightable-striped\" style='font-family: \"Arial Narrow\", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> Home Team </th>\n   <th style=\"text-align:left;\"> Away Team </th>\n   <th style=\"text-align:left;\"> Predicted Winner </th>\n   <th style=\"text-align:left;\"> Actual Winner </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Purdue </td>\n   <td style=\"text-align:left;\"> Ohio State </td>\n   <td style=\"text-align:left;\"> Ohio State </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> Ohio State </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Penn State </td>\n   <td style=\"text-align:left;\"> Indiana </td>\n   <td style=\"text-align:left;\"> Indiana </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> Indiana </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Missouri </td>\n   <td style=\"text-align:left;\"> Texas A&amp;M </td>\n   <td style=\"text-align:left;\"> Texas A&amp;M </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> Texas A&amp;M </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Alabama </td>\n   <td style=\"text-align:left;\"> LSU </td>\n   <td style=\"text-align:left;\"> Alabama </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> Alabama </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Miss State </td>\n   <td style=\"text-align:left;\"> Georgia </td>\n   <td style=\"text-align:left;\"> Georgia </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> Georgia </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Ole Miss </td>\n   <td style=\"text-align:left;\"> The Citadel </td>\n   <td style=\"text-align:left;\"> Ole Miss </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> Ole Miss </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Texas Tech </td>\n   <td style=\"text-align:left;\"> BYU </td>\n   <td style=\"text-align:left;\"> Texas Tech </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> Texas Tech </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Notre Dame </td>\n   <td style=\"text-align:left;\"> Navy </td>\n   <td style=\"text-align:left;\"> Notre Dame </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> Notre Dame </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Virginia </td>\n   <td style=\"text-align:left;\"> Wake Forest </td>\n   <td style=\"text-align:left;\"> Virginia </td>\n   <td style=\"text-align:left;background-color: salmon !important;\"> Wake Forest </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Louisville </td>\n   <td style=\"text-align:left;\"> California </td>\n   <td style=\"text-align:left;\"> Louisville </td>\n   <td style=\"text-align:left;background-color: salmon !important;\"> California </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Vanderbilt </td>\n   <td style=\"text-align:left;\"> Auburn </td>\n   <td style=\"text-align:left;\"> Vanderbilt </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> Vanderbilt </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Miami </td>\n   <td style=\"text-align:left;\"> Syracuse </td>\n   <td style=\"text-align:left;\"> Miami </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> Miami </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> USC </td>\n   <td style=\"text-align:left;\"> Northwestern </td>\n   <td style=\"text-align:left;\"> USC </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> USC </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Memphis </td>\n   <td style=\"text-align:left;\"> Tulane </td>\n   <td style=\"text-align:left;\"> Memphis </td>\n   <td style=\"text-align:left;background-color: salmon !important;\"> Tulane </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Wisconsin </td>\n   <td style=\"text-align:left;\"> Washington </td>\n   <td style=\"text-align:left;\"> Washington </td>\n   <td style=\"text-align:left;background-color: salmon !important;\"> Wisconsin </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Iowa </td>\n   <td style=\"text-align:left;\"> Oregon </td>\n   <td style=\"text-align:left;\"> Oregon </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> Oregon </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> South Florida </td>\n   <td style=\"text-align:left;\"> UTSA </td>\n   <td style=\"text-align:left;\"> South Florida </td>\n   <td style=\"text-align:left;background-color: lightgreen !important;\"> South Florida </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}